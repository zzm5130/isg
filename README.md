# 图片字幕生成器开发文档

## 项目概述
这是一个基于Web的图片字幕生成器应用，允许用户上传图片，添加自定义字幕，并调整各种样式选项，最终生成并保存带有精美字幕的图片。

## 功能特点
- 图片上传功能，支持点击选择和拖拽上传
- 实时预览字幕效果
- 字幕样式自定义：
  - 字幕高度调整
  - 字体大小调整
  - 颜色设置（字体、轮廓、分割线）
  - 分割线宽度调整
- 水印添加功能：
  - 自定义水印文字
  - 水印大小和透明度调整
  - 水印位置选择
- 图片缩放预览控制
- 生成和保存最终图片

## 文件结构
```
Test/
├── index.html    # 应用主页面
├── script.js     # 交互逻辑和功能实现
├── style.css     # 样式定义
└── README.md     # 开发说明文档
```

## 技术栈
- HTML5: 页面结构和语义化标签
- CSS3: 样式设计，包括Flexbox布局和响应式设计
- JavaScript: 交互逻辑和Canvas图像处理
- SVG: 图标和矢量图形

## 核心代码结构

### HTML结构
页面分为左侧控制面板和右侧预览区域：
- 左侧包含文件上传区域、样式设置控件、文本输入区域和操作按钮
- 右侧为实时预览区域，显示处理后的图片效果

### JavaScript核心类
`SubtitleGenerator`类是应用的核心，负责：
- 初始化事件监听器
- 处理图片上传和拖拽功能
- 实现缩放控制和滑块更新
- 生成字幕和水印
- 图片保存功能

### CSS设计
使用CSS变量实现主题色彩管理，主要设计特点：
- 采用苹果设计系统风格
- 响应式布局适配不同屏幕尺寸
- 卡片式组件设计
- 交互动画和过渡效果

## 使用指南
1. 上传图片：点击上传区域或拖拽图片到指定区域
2. 输入字幕内容：在文本框中输入字幕，每行一句
3. 调整样式：使用各种滑块和颜色选择器调整字幕样式
4. 设置水印：输入水印文字并调整相关参数
5. 预览效果：在右侧预览区域查看实时效果
6. 生成并保存：点击"生成字幕图片"后，点击"保存图片"下载结果

## 开发建议
- 如需添加新样式选项，可在`controls-card`中添加新的控制项，并在JavaScript中添加相应的事件处理
- 图片处理逻辑可在`generateSubtitle`方法中扩展
- UI组件样式可通过修改CSS变量或添加新的样式规则进行调整

## 未来扩展方向
- 添加多语言支持
- 实现滤镜效果
- 添加模板库功能
- 支持社交媒体一键分享
- 实现撤销/重做功能